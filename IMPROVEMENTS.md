# Zero Friction Brain - κ°μ„  ν•„μ” μ‚¬ν•­

## 0. μ ν…”μΉ΄μ¤ν…(Zettelkasten) μ² ν•™ μ •ν•©μ„± (μ°μ„ μμ„: λ†’μ)

### ν„μ¬ λ¬Έμ μ 

ν„μ¬ ZK μ¶”μ¶ κΈ°λ¥μ€ "μ•„μ΄λ””μ–΄ μ¶”μ¶ λ„κµ¬"μΌ λΏ, μ§„μ •ν• μ ν…”μΉ΄μ¤ν… μ‹μ¤ν…μ΄ μ•„λ‹.

| μ›μΉ™ | μ ν…”μΉ΄μ¤ν… μ² ν•™ | ν„μ¬ κµ¬ν„ | μƒνƒ |
|------|---------------|----------|------|
| Atomic Notes | ν•λ‚μ λ…ΈνΈμ— ν•λ‚μ μ•„μ΄λ””μ–΄ | AIκ°€ μ•„μ΄λ””μ–΄ λ¶„λ¦¬ μ¶”μ¶ | β… |
| Unique ID | κ° λ…ΈνΈμ— κ³ μ  μ‹λ³„μ | timestamp μ‚¬μ© | β οΈ |
| λ…ΈνΈ κ°„ μ—°κ²° | κΈ°μ΅΄ λ…ΈνΈμ™€ μ—°κ²° | μ›λ³Έ μ†μ¤λ§ λ°±λ§ν¬ | β |
| ν‰λ©΄ κµ¬μ΅° | ν΄λ” μ—†μ΄ λ§ν¬λ΅ μ—°κ²° | ν΄λ”μ— μ €μ¥ | β οΈ |
| Structure Notes | μ§„μ…μ  λ…ΈνΈ (Index) | μ—†μ | β |
| λ°μ „μ  μ‘μ„± | κΈ°μ΅΄ λ…ΈνΈ λ°μ „/μμ • | μƒμ„±λ§ ν•¨ | β |

### 0.1 κΈ°μ΅΄ ZK λ…ΈνΈμ™€ μλ™ μ—°κ²°
- **ν„μ¬**: μƒ ZK λ…ΈνΈ β†’ μ›λ³Έλ§ μ°Έμ΅° (κ³ λ¦½λ λ…ΈνΈ)
- **κ°μ„ **: μƒ ZK λ…ΈνΈ μƒμ„± μ‹ κΈ°μ΅΄ ZK λ…ΈνΈμ™€ κ΄€λ ¨μ„± λ¶„μ„ β†’ μλ™ λ§ν¬

```typescript
// κ°μ„ λ ZK μƒμ„± νλ¦„
async createZKNotes(candidates: ZKCandidate[], sourceFile: TFile) {
    for (const candidate of candidates) {
        // 1. ZK λ…ΈνΈ μƒμ„±
        const newNote = await this.createZKNote(candidate, sourceFile);

        // 2. κΈ°μ΅΄ ZK λ…ΈνΈμ—μ„ κ΄€λ ¨ λ…ΈνΈ κ²€μƒ‰
        const existingZKNotes = await this.getExistingZKNotes();
        const relatedZK = await this.findRelatedZKNotes(candidate.keywords, existingZKNotes);

        // 3. κ΄€λ ¨ ZK λ…ΈνΈ λ§ν¬ μ¶”κ°€
        if (relatedZK.length > 0) {
            await this.addZKLinks(newNote, relatedZK);
        }
    }
}
```

### 0.2 ZK μ „μ© μΈλ±μ¤ κµ¬μ¶•
- **ν„μ¬**: μΌλ° λ…ΈνΈ μΈλ±μ¤μ™€ ZK λ…ΈνΈ κµ¬λ¶„ μ—†μ
- **κ°μ„ **: ZK λ…ΈνΈ μ „μ© μΈλ±μ¤ (frontmatter `type: zettel` κΈ°μ¤€)

```typescript
interface ZKIndex {
    notes: Map<string, {
        id: string;           // timestamp or custom ID
        title: string;
        keywords: string[];
        linkedTo: string[];   // μ—°κ²°λ λ‹¤λ¥Έ ZK λ…ΈνΈ
        linkedFrom: string[]; // μ΄ λ…ΈνΈλ¥Ό μ°Έμ΅°ν•λ” λ…ΈνΈ
    }>;
}
```

### 0.3 Structure Note (ZK MOC) μλ™ κ΄€λ¦¬
- **ν„μ¬**: ZK λ…ΈνΈλ“¤μ μ§„μ…μ μ΄ μ—†μ
- **κ°μ„ **: ν‚¤μ›λ“/μ£Όμ λ³„ Structure Note μλ™ μƒμ„± λ° κ΄€λ¦¬

```markdown
# π§  Zettelkasten Index

## μµκ·Ό μ¶”κ°€
- [[1735789200000 μ„Όμ„ λ°μ΄ν„° μµμ ν™” μ „λµ]]
- [[1735788900000 API μ„¤κ³„ μ›μΉ™]]

## μ£Όμ λ³„
### μ¤λ§νΈν
- [[1735789200000 μ„Όμ„ λ°μ΄ν„° μµμ ν™” μ „λµ]]
- [[1735787000000 μ¨λ„ μ„Όμ„ λ³΄μ • λ°©λ²•]]

### κ°λ°
- [[1735788900000 API μ„¤κ³„ μ›μΉ™]]
```

### 0.4 μ–‘λ°©ν–¥ λ§ν¬ κ°•ν™”
- **ν„μ¬**: μƒ λ…ΈνΈ β†’ μ›λ³Έ (λ‹¨λ°©ν–¥)
- **κ°μ„ **: μƒ λ…ΈνΈ β†” κ΄€λ ¨ λ…ΈνΈλ“¤ (μ–‘λ°©ν–¥)
  - μƒ ZK λ…ΈνΈμ— κ΄€λ ¨ ZK λ…ΈνΈ λ§ν¬ μ¶”κ°€
  - κ΄€λ ¨ ZK λ…ΈνΈμ—λ„ μƒ λ…ΈνΈ λ°±λ§ν¬ μλ™ μ¶”κ°€

### 0.5 ZK ID μ‹μ¤ν… κ°μ„ 
- **ν„μ¬**: Unix timestamp (`1735789200000`)
- **κ°μ„  μµμ…**:
  - Luhmann μ¤νƒ€μΌ: `1a1b2` (κ³„μΈµμ )
  - λ‚ μ§+μ‹ν€€μ¤: `20260102-001`
  - μ‚¬μ©μ μ„ νƒ κ°€λ¥ν•λ„λ΅ μ„¤μ • μ¶”κ°€

### 0.6 κΈ°μ΅΄ ZK λ…ΈνΈ λ°μ „ κΈ°λ¥
- **ν„μ¬**: μƒ λ…ΈνΈ μƒμ„±λ§ κ°€λ¥
- **κ°μ„ **: κΈ°μ΅΄ ZK λ…ΈνΈμ— μ•„μ΄λ””μ–΄ μ¶”κ°€/λ³‘ν•© μ μ•

```
μƒ μ•„μ΄λ””μ–΄ μ¶”μ¶ μ‹:
    β†“
κΈ°μ΅΄ ZK λ…ΈνΈμ™€ 80% μ΄μƒ μ μ‚¬?
    β†“ Yes
"κΈ°μ΅΄ λ…ΈνΈμ— μ¶”κ°€ν•μ‹κ² μµλ‹κΉ?" λ¨λ‹¬
    β†“ No
μƒ ZK λ…ΈνΈ μƒμ„±
```

### κµ¬ν„ μ°μ„ μμ„

| μμ„ | ν•­λ© | μμƒ μ‘μ—…λ‰ | μν–¥λ„ |
|------|------|------------|--------|
| 1 | κΈ°μ΅΄ ZK λ…ΈνΈμ™€ μλ™ μ—°κ²° | 3-4μ‹κ°„ | λ†’μ |
| 2 | ZK μ „μ© μΈλ±μ¤ κµ¬μ¶• | 2-3μ‹κ°„ | μ¤‘κ°„ |
| 3 | Structure Note μλ™ κ΄€λ¦¬ | 2-3μ‹κ°„ | λ†’μ |
| 4 | μ–‘λ°©ν–¥ λ§ν¬ κ°•ν™” | 2μ‹κ°„ | μ¤‘κ°„ |
| 5 | ZK ID μ‹μ¤ν… κ°μ„  | 1-2μ‹κ°„ | λ‚®μ |
| 6 | κΈ°μ΅΄ λ…ΈνΈ λ°μ „ κΈ°λ¥ | 3-4μ‹κ°„ | μ¤‘κ°„ |

---

## 1. μ½”λ“ ν’μ§

### 1.1 μ¤‘λ³µ μ½”λ“ μ κ±°
- **μ„μΉ**: `main.ts`, `moc.ts`
- **λ¬Έμ **: `sanitizeFileName()` ν•¨μκ°€ λ‘ νμΌμ— μ¤‘λ³µ μ •μ
- **ν•΄κ²°**: `src/utils/helpers.ts` μƒμ„± ν›„ κ³µν†µ μ ν‹Έ ν•¨μ λ¶„λ¦¬

```typescript
// src/utils/helpers.ts
export function sanitizeFileName(name: string, maxLength: number = 100): string {
    return name
        .replace(/[\\/:*?"<>|?#\[\]]/g, "_")
        .replace(/\s+/g, " ")
        .trim()
        .slice(0, maxLength);
}
```

### 1.2 λ‹¨μ„ ν…μ¤νΈ λ¶€μ¬
- **λ¬Έμ **: ν•µμ‹¬ λ΅μ§μ— λ€ν• ν…μ¤νΈ μ½”λ“ μ—†μ
- **ν•΄κ²°**: Jest λλ” Vitest μ„¤μ • ν›„ ν…μ¤νΈ μ‘μ„±
- **μ°μ„  ν…μ¤νΈ λ€μƒ**:
  - `sanitizeFileName()` - νΉμλ¬Έμ μ²λ¦¬
  - `extractVideoId()` - YouTube URL νμ‹±
  - `parsePARAResponse()` - AI μ‘λ‹µ νμ‹±
  - `extractContent()` - HTML λ³Έλ¬Έ μ¶”μ¶

---

## 2. μ—λ¬ ν•Έλ“¤λ§

### 2.1 λ„¤νΈμ›ν¬ μ¤λ¥ ν”Όλ“λ°±
- **ν„μ¬**: `console.error`λ΅λ§ λ΅κΉ…
- **κ°μ„ **: μ‚¬μ©μμ—κ² κµ¬μ²΄μ μΈ μ¤λ¥ λ©”μ‹μ§€ ν‘μ‹

```typescript
// κ°μ„  μμ‹
catch (error) {
    if (error.message.includes("429")) {
        new Notice("API νΈμ¶ ν•λ„ μ΄κ³Ό. μ μ‹ ν›„ λ‹¤μ‹ μ‹λ„ν•μ„Έμ”.");
    } else if (error.message.includes("network")) {
        new Notice("λ„¤νΈμ›ν¬ μ—°κ²°μ„ ν™•μΈν•μ„Έμ”.");
    } else {
        new Notice(`μ²λ¦¬ μ‹¤ν¨: ${error.message}`);
    }
}
```

### 2.2 API ν‚¤ μ ν¨μ„± κ²€μ‚¬
- **ν„μ¬**: API νΈμ¶ μ‹¤ν¨ μ‹μ—λ§ μ¤λ¥ κ°μ§€
- **κ°μ„ **: μ„¤μ • μ €μ¥ μ‹ API ν‚¤ μ ν¨μ„± μ‚¬μ „ κ²€μ¦

### 2.3 νμΌ μ¶©λ μ²λ¦¬
- **ν„μ¬**: λ™μΌ νμΌλ… μ΅΄μ¬ μ‹ μ¤λ¥ λ°μƒ
- **κ°μ„ **: μλ™ λ²νΈ λ¶™μ΄κΈ° λλ” λ®μ–΄μ“°κΈ° ν™•μΈ λ¨λ‹¬

```typescript
// κ°μ„  μμ‹
async createUniqueFile(basePath: string, content: string): Promise<TFile> {
    let path = basePath;
    let counter = 1;
    while (this.app.vault.getAbstractFileByPath(path)) {
        const ext = basePath.match(/\.[^.]+$/)?.[0] || "";
        const name = basePath.replace(ext, "");
        path = `${name} (${counter})${ext}`;
        counter++;
    }
    return await this.app.vault.create(path, content);
}
```

---

## 3. μ„±λ¥ μµμ ν™”

### 3.1 μΈλ±μ¤ μΊμ‹±
- **ν„μ¬**: ν”λ¬κ·ΈμΈ λ΅λ“ μ‹λ§λ‹¤ μ „μ²΄ λ…ΈνΈ μ¬μΈλ±μ‹±
- **κ°μ„ **: μΈλ±μ¤λ¥Ό `data.json`μ— μΊμ‹±, λ³€κ²½λ νμΌλ§ μ—…λ°μ΄νΈ

```typescript
interface CachedIndex {
    version: number;
    lastUpdated: string;
    notes: NoteIndex[];
}
```

### 3.2 λ€μ©λ‰ λ…ΈνΈ μ²λ¦¬
- **ν„μ¬**: μ „μ²΄ λ‚΄μ©μ„ λ©”λ¨λ¦¬μ— λ΅λ“
- **κ°μ„ **: μ¤νΈλ¦¬λ° λλ” μ²­ν¬ λ‹¨μ„ μ²λ¦¬

### 3.3 λ³‘λ ¬ μ²λ¦¬
- **ν„μ¬**: Inbox μΌκ΄„ μ²λ¦¬ μ‹ μμ°¨ μ‹¤ν–‰
- **κ°μ„ **: `Promise.allSettled`λ΅ λ³‘λ ¬ μ²λ¦¬ (rate limit κ³ λ ¤)

---

## 4. μ‚¬μ©μ κ²½ν— (UX)

### 4.1 μ„¤μ • UI κ°μ„ 
- **ν„μ¬**: ν…μ¤νΈ μ…λ ¥μΌλ΅ ν΄λ” κ²½λ΅ μ§€μ •
- **κ°μ„ **: ν΄λ” μ„ νƒκΈ°(dropdown) μ κ³µ

### 4.2 μ§„ν–‰ μƒν™© ν‘μ‹
- **ν„μ¬**: λ‹¨μ Notice λ©”μ‹μ§€
- **κ°μ„ **: ν”„λ΅κ·Έλ μ¤ λ°” λλ” μƒνƒ ν‘μ‹μ¤„ ν™μ©

```typescript
// μƒνƒ ν‘μ‹μ¤„ ν™μ© μμ‹
const statusBarItem = this.addStatusBarItem();
statusBarItem.setText("μ²λ¦¬ μ¤‘: 3/10");
```

### 4.3 ν‚¤λ³΄λ“ λ‹¨μ¶•ν‚¤ μ¶©λ
- **ν„μ¬**: κΈ°λ³Έ λ‹¨μ¶•ν‚¤κ°€ λ‹¤λ¥Έ ν”λ¬κ·ΈμΈκ³Ό μ¶©λ κ°€λ¥
- **κ°μ„ **: μ„¤μ •μ—μ„ λ‹¨μ¶•ν‚¤ μ»¤μ¤ν„°λ§μ΄μ§• μ•λ‚΄

### 4.4 λ‹¤κµ­μ–΄ μ§€μ›
- **ν„μ¬**: ν•κµ­μ–΄ ν•λ“μ½”λ”©
- **κ°μ„ **: i18n κµ¬μ΅°λ΅ μμ–΄/ν•κµ­μ–΄ μ „ν™ κ°€λ¥

---

## 5. κΈ°λ¥ ν™•μ¥

### 5.1 Obsidian Sync νΈν™μ„±
- **ν™•μΈ ν•„μ”**: λ™κΈ°ν™” μ¶©λ μ‹ λ™μ‘ ν…μ¤νΈ

### 5.2 λ¨λ°”μΌ μ§€μ›
- **ν„μ¬**: λ°μ¤ν¬ν†± μ „μ©
- **κ°μ„ **: λ¨λ°”μΌ UI μµμ ν™” (ν„°μΉ μΉν™”μ  λ¨λ‹¬)

### 5.3 μ»¤μ¤ν…€ ν”„λ΅¬ν”„νΈ
- **ν„μ¬**: ν”„λ΅¬ν”„νΈ ν•λ“μ½”λ”©
- **κ°μ„ **: μ„¤μ •μ—μ„ ν”„λ΅¬ν”„νΈ μ»¤μ¤ν„°λ§μ΄μ§• κ°€λ¥

### 5.4 λ‹¤λ¥Έ AI λ¨λΈ μ§€μ›
- **ν„μ¬**: Gemini μ „μ©
- **κ°μ„ **: OpenAI, Claude API μ„ νƒ κ°€λ¥

---

## 6. λ³΄μ•

### 6.1 API ν‚¤ μ €μ¥
- **ν„μ¬**: `data.json`μ— ν‰λ¬Έ μ €μ¥
- **κ°μ„ **: Obsidianμ λ³΄μ• μ €μ¥μ† ν™μ© λλ” κ²½κ³  λ©”μ‹μ§€

### 6.2 λ―Όκ° μ •λ³΄ ν•„ν„°λ§
- **ν„μ¬**: λ¨λ“  λ‚΄μ©μ„ AIμ— μ „μ†΅
- **κ°μ„ **: λ―Όκ° μ •λ³΄ ν¨ν„΄ κ°μ§€ λ° κ²½κ³ 

---

## 7. λ¬Έμ„ν™”

### 7.1 README λ³΄κ°•
- μ„¤μΉ λ°©λ²•
- κΈ°λ¥λ³„ μ‚¬μ© κ°€μ΄λ“
- μ¤ν¬λ¦°μƒ·/GIF
- FAQ

### 7.2 CHANGELOG
- λ²„μ „λ³„ λ³€κ²½ μ‚¬ν•­ κΈ°λ΅

### 7.3 κΈ°μ—¬ κ°€μ΄λ“
- `CONTRIBUTING.md` μ‘μ„±
- μ½”λ“ μ¤νƒ€μΌ κ°€μ΄λ“

---

## μ°μ„ μμ„ λ΅λ“λ§µ

| μμ„ | ν•­λ© | μμƒ μ‘μ—…λ‰ |
|------|------|------------|
| 1 | μ—λ¬ ν•Έλ“¤λ§ κ°μ„  | 2-3μ‹κ°„ |
| 2 | μ¤‘λ³µ μ½”λ“ μ κ±° | 1μ‹κ°„ |
| 3 | νμΌ μ¶©λ μ²λ¦¬ | 1-2μ‹κ°„ |
| 4 | μΈλ±μ¤ μΊμ‹± | 3-4μ‹κ°„ |
| 5 | λ‹¨μ„ ν…μ¤νΈ | 4-6μ‹κ°„ |
| 6 | README λ³΄κ°• | 2μ‹κ°„ |
| 7 | λ‹¤κµ­μ–΄ μ§€μ› | 3-4μ‹κ°„ |
| 8 | μ„¤μ • UI κ°μ„  | 2-3μ‹κ°„ |
